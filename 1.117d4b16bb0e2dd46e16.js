(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{o1NI:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){},a=t("pMnS"),o=function(){function n(){this.toggleList=new e.m,this.logout=new e.m}return n.prototype.ngOnInit=function(){},n}(),s=e.La({encapsulation:0,styles:[[".header-container[_ngcontent-%COMP%]{height:50px;background-color:#228be6;display:flex;align-items:center;justify-content:space-between}.header-container[_ngcontent-%COMP%]   .toogle-btn[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer}.header-container[_ngcontent-%COMP%]   .toogle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.header-container[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{margin-right:20px;cursor:pointer}.header-container[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function i(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,4,"div",[["class","header-container"]],null,null,null,null,null)),(n()(),e.Na(1,0,null,null,1,"a",[["class","toogle-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleList.emit()&&e),e},null,null)),(n()(),e.Na(2,0,null,null,0,"i",[["class","fas fa-align-justify"]],null,null,null,null,null)),(n()(),e.Na(3,0,null,null,1,"a",[["class","logout-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.logout.emit()&&e),e},null,null)),(n()(),e.Na(4,0,null,null,0,"i",[["class","fas fa-sign-out-alt"]],null,null,null,null,null))],null,null)}var r=t("ZYCi"),c=t("DvZs"),g=function(){function n(n){this.store=n}return n.prototype.ngOnInit=function(){},n.prototype.logout=function(){this.store.dispatch(new c.b)},n}(),p=t("yGQT"),d=e.La({encapsulation:0,styles:[[".content[_ngcontent-%COMP%]{height:calc(100% - 50px)}"]],data:{}});function f(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,1,"app-header",[],null,[[null,"logout"]],function(n,l,t){var e=!0;return"logout"===l&&(e=!1!==n.component.logout()&&e),e},i,s)),e.Ma(1,114688,null,0,o,[],null,{logout:"logout"}),(n()(),e.Na(2,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.Na(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.Ma(4,212992,null,0,r.p,[r.b,e.M,e.j,[8,null],e.h],null,null)],function(n,l){n(l,1,0),n(l,4,0)},null)}var h=e.Ja("app-main",g,function(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,1,"app-main",[],null,null,null,f,d)),e.Ma(1,114688,null,0,g,[p.n],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),m=t("Ip0R"),M=function(){function n(){this.isOwnMessage=!1}return n.prototype.ngOnInit=function(){},n}(),b=e.La({encapsulation:0,styles:[[".message-wrapper[_ngcontent-%COMP%]{display:flex;padding:4px 10px;font-family:'Open Sans',sans-serif}.message-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px;-ms-grid-row-align:center;align-self:center}.message-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{flex:1}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#6f6f6f}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{font-size:14px;font-weight:700px}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;font-style:italic}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block;background:#dedede;border-radius:24px;font-size:14px;padding:4px 10px;word-break:break-word}.message-wrapper.own[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background:#51a3fb;color:#fff}"]],data:{}});function C(n){return e.gb(0,[e.Ya(0,m.e,[e.s]),(n()(),e.Na(1,0,null,null,13,"div",[["class","message-wrapper"]],null,null,null,null,null)),e.Ma(2,278528,null,0,m.k,[e.q,e.r,e.k,e.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Za(3,{own:0}),(n()(),e.Na(4,0,null,null,1,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),e.Na(5,0,null,null,0,"img",[["alt",""],["src","https://cdn.iconscout.com/public/images/icon/free/png-512/avatar-user-business-man-399587fe24739d5a-512x512.png"]],null,null,null,null,null)),(n()(),e.Na(6,0,null,null,8,"div",[["class","message"]],null,null,null,null,null)),(n()(),e.Na(7,0,null,null,5,"div",[["class","user"]],null,null,null,null,null)),(n()(),e.Na(8,0,null,null,1,"span",[["class","sender"]],null,null,null,null,null)),(n()(),e.eb(9,null,[" "," "])),(n()(),e.Na(10,0,null,null,2,"span",[["class","time"]],null,null,null,null,null)),(n()(),e.eb(11,null,[" "," "])),e.ab(12,2),(n()(),e.Na(13,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.eb(14,null,["",""]))],function(n,l){n(l,2,0,"message-wrapper",n(l,3,0,l.component.isOwnMessage))},function(n,l){var t=l.component;n(l,9,0,t.chatMessage.userName),n(l,11,0,e.fb(l,11,0,n(l,12,0,e.Xa(l,0),t.chatMessage.timeSent,"medium"))),n(l,14,0,t.chatMessage.message)})}var O=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),v=e.La({encapsulation:0,styles:[[".feed-wrapper[_ngcontent-%COMP%]{padding:10px 0}"]],data:{}});function P(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,2,"div",[["class","message"]],null,null,null,null,null)),(n()(),e.Na(1,0,null,null,1,"app-message",[],null,null,null,C,b)),e.Ma(2,114688,null,0,M,[],{chatMessage:[0,"chatMessage"]},null)],function(n,l){n(l,2,0,l.context.$implicit)},null)}function _(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,2,"div",[["class","feed-wrapper"]],null,null,null,null,null)),(n()(),e.Ea(16777216,null,null,1,null,P)),e.Ma(2,802816,null,0,m.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.feed)},null)}var w=t("gIcY"),y=function(){function n(){this.sending=new e.m}return n.prototype.ngOnInit=function(){},n.prototype.send=function(){this.sending.emit(this.message),this.message=""},n.prototype.handelSubmit=function(n){13===n.keyCode&&(this.sending.emit(n.target.value),this.message="")},n}(),x=e.La({encapsulation:0,styles:[[".form-wrapper[_ngcontent-%COMP%]{height:50px;background:#fff;box-shadow:0 -1px 25px 0 rgba(0,0,0,.3);display:flex;align-items:center;padding:10px 20px;font-family:'Open Sans',sans-serif;font-size:14px}.form-wrapper[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{flex:1;border-radius:20px;border:1px solid rgba(0,0,0,.16);margin-right:20px;outline:0;padding:4px 14px}.form-wrapper[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{border-radius:20px;width:100px;background:#228be6;color:#fff;outline:0}"]],data:{}});function N(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,8,"div",[["class","form-wrapper"]],null,null,null,null,null)),(n()(),e.Na(1,0,null,null,5,"input",[["class","chat-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,a=n.component;return"input"===l&&(u=!1!==e.Xa(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Xa(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Xa(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Xa(n,2)._compositionEnd(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(a.message=t)&&u),"keydown"===l&&(u=!1!==a.handelSubmit(t)&&u),u},null,null)),e.Ma(2,16384,null,0,w.c,[e.B,e.k,[2,w.a]],null,null),e.bb(1024,null,w.f,function(n){return[n]},[w.c]),e.Ma(4,671744,null,0,w.k,[[8,null],[8,null],[8,null],[6,w.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.bb(2048,null,w.g,null,[w.k]),e.Ma(6,16384,null,0,w.h,[[4,w.g]],null,null),(n()(),e.Na(7,0,null,null,1,"button",[["class","send-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.send()&&e),e},null,null)),(n()(),e.eb(-1,null,["Send"]))],function(n,l){n(l,4,0,l.component.message)},function(n,l){n(l,1,0,e.Xa(l,6).ngClassUntouched,e.Xa(l,6).ngClassTouched,e.Xa(l,6).ngClassPristine,e.Xa(l,6).ngClassDirty,e.Xa(l,6).ngClassValid,e.Xa(l,6).ngClassInvalid,e.Xa(l,6).ngClassPending)})}var k=t("6233"),V=t("Oipj"),S=function(){function n(n,l){var t=this;this.db=n,this.afAuth=l,this.afAuth.authState.subscribe(function(n){void 0!==n&&null!==n&&(t.user=n),t.getUser().subscribe(function(n){t.userName=n.displayName})})}return n.prototype.getUser=function(){return this.db.object("/users/"+this.user.uid).valueChanges()},n.prototype.sendMessage=function(n){var l=this.getTimeStamp(),t=this.user.email,e=this.userName;this.chatMessages=this.getMessages(),this.chatMessages.push({email:t,message:n,userName:e,timeSent:l})},n.prototype.getMessages=function(){return this.db.list("messages",function(n){return n.limitToFirst(25).orderByKey()})},n.prototype.getTimeStamp=function(){var n=new Date;return n.getUTCFullYear()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCDate()+" "+n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds()},n.ngInjectableDef=e.Q({factory:function(){return new n(e.U(k.a),e.U(V.a))},token:n,providedIn:"root"}),n}(),T=function(){function n(n){this.chatService=n,this.isListOpen=!1}return n.prototype.ngOnInit=function(){this.feed=this.chatService.getMessages().valueChanges()},n.prototype.sendMessage=function(n){this.chatService.sendMessage(n)},n.prototype.scrollToBottom=function(){this.feedContainer.nativeElement.scrollTop=this.feedContainer.nativeElement.scrollHeight},n.prototype.ngAfterViewChecked=function(){this.scrollToBottom()},n}(),I=e.La({encapsulation:0,styles:[[".chat-page-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.chat-page-container[_ngcontent-%COMP%]   .app-feed[_ngcontent-%COMP%]{flex:1;overflow:auto}"]],data:{}});function X(n){return e.gb(0,[e.cb(402653184,1,{feedContainer:0}),(n()(),e.Na(1,0,null,null,7,"div",[["class","chat-page-container"]],null,null,null,null,null)),(n()(),e.Na(2,0,[[1,0],["scroller",1]],null,3,"div",[["class","app-feed"]],null,null,null,null,null)),(n()(),e.Na(3,0,null,null,2,"app-feed",[],null,null,null,_,v)),e.Ma(4,114688,null,0,O,[],{feed:[0,"feed"]},null),e.Ya(131072,m.b,[e.h]),(n()(),e.Na(6,0,null,null,2,"div",[["class","chat-form"]],null,null,null,null,null)),(n()(),e.Na(7,0,null,null,1,"app-chat-form",[],null,[[null,"sending"]],function(n,l,t){var e=!0;return"sending"===l&&(e=!1!==n.component.sendMessage(t)&&e),e},N,x)),e.Ma(8,114688,null,0,y,[],null,{sending:"sending"})],function(n,l){var t=l.component;n(l,4,0,e.fb(l,4,0,e.Xa(l,5).transform(t.feed))),n(l,8,0)},null)}var U=e.Ja("app-chat-page",T,function(n){return e.gb(0,[(n()(),e.Na(0,0,null,null,1,"app-chat-page",[],null,null,null,X,I)),e.Ma(1,8503296,null,0,T,[S],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),j=t("MMa0"),L=function(){},z=t("PCNd");t.d(l,"MainModuleNgFactory",function(){return F});var F=e.Ka(u,[],function(n){return e.Ua([e.Va(512,e.j,e.Z,[[8,[a.a,h,U]],[3,e.j],e.v]),e.Va(4608,m.o,m.n,[e.s,[2,m.x]]),e.Va(4608,w.o,w.o,[]),e.Va(5120,j.b,j.g,[j.d,[2,j.c]]),e.Va(4608,k.a,k.a,[j.d,[2,j.c],[2,j.f],e.z,e.x]),e.Va(4608,V.a,V.a,[j.d,[2,j.c],e.z,e.x]),e.Va(1073742336,m.c,m.c,[]),e.Va(1073742336,r.o,r.o,[[2,r.v],[2,r.n]]),e.Va(1073742336,L,L,[]),e.Va(1073742336,w.m,w.m,[]),e.Va(1073742336,w.d,w.d,[]),e.Va(1073742336,j.a,j.a,[]),e.Va(1073742336,k.b,k.b,[]),e.Va(1073742336,V.b,V.b,[]),e.Va(1073742336,z.a,z.a,[]),e.Va(1024,p.j,function(){return[{key:"main",reducerFactory:p.z,metaReducers:[],initialState:void 0}]},[]),e.Va(1024,p.q,function(){return[{}]},[]),e.Va(1024,p.r,function(n){return[n]},[p.q]),e.Va(1024,p.b,function(n,l,t){return[p.w(n,l,t)]},[e.p,p.q,p.r]),e.Va(1073873408,p.o,p.o,[p.j,p.b,p.g,p.p]),e.Va(1073742336,u,u,[]),e.Va(1024,r.l,function(){return[[{path:"",component:g,children:[{path:"chat",component:T},{path:"",redirectTo:"chat"}]}]]},[])])})}}]);